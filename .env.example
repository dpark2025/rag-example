# RAG System Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# CONTAINER PLATFORM CONFIGURATION
# =============================================================================

# Container Host Configuration
# For Docker: use host.docker.internal
# For Podman: use host.containers.internal 
# For local development: use localhost
# Note: Some systems may need the actual host IP (e.g., 10.0.2.2, 172.17.0.1)
OLLAMA_HOST=host.containers.internal:11434

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=production
DEBUG=false

# Application secrets (generate secure random values)
SECRET_KEY=your_super_secret_key_here_minimum_32_chars
API_SECRET_KEY=another_secure_key_for_api_auth

# =============================================================================
# DATABASE CONFIGURATION  
# =============================================================================

# ChromaDB Configuration
CHROMA_HOST=localhost
CHROMA_PORT=8002
CHROMA_PERSIST_DIRECTORY=/app/data/chroma_db

# Redis Configuration (for caching and sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0

# =============================================================================
# LLM CONFIGURATION
# =============================================================================

# Ollama Configuration
# OLLAMA_HOST is defined in the Container Platform Configuration section above
OLLAMA_MODEL=llama2:7b
OLLAMA_API_TIMEOUT=300

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Prometheus Configuration
PROMETHEUS_HOST=localhost
PROMETHEUS_PORT=9090

# Grafana Configuration
GRAFANA_HOST=localhost
GRAFANA_PORT=3001
GRAFANA_PASSWORD=secure_grafana_password_here

# AlertManager Configuration
ALERT_EMAIL_FROM=alerts@yourcompany.com
ALERT_EMAIL_TO=admin@yourcompany.com
SMTP_HOST=smtp.yourcompany.com
SMTP_PORT=587
SMTP_USERNAME=alerts@yourcompany.com
SMTP_PASSWORD=your_smtp_password_here

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/rag-system.crt
SSL_KEY_PATH=/etc/ssl/private/rag-system.key

# API Authentication
API_KEY_REQUIRED=true
API_RATE_LIMIT_PER_MINUTE=100
JWT_SECRET=your_jwt_secret_key_here_minimum_64_chars
JWT_EXPIRY_HOURS=24

# CORS Configuration
CORS_ORIGINS=https://yourdomain.com,https://api.yourdomain.com
CORS_CREDENTIALS=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL  
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/rag-system/app.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# Loki Configuration (for log aggregation)
LOKI_HOST=localhost
LOKI_PORT=3100
LOKI_ENABLED=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/backup/rag-system

# S3-compatible backup storage (optional)
BACKUP_S3_ENABLED=false
BACKUP_S3_BUCKET=rag-system-backups
BACKUP_S3_REGION=us-west-2
BACKUP_S3_ACCESS_KEY=your_s3_access_key
BACKUP_S3_SECRET_KEY=your_s3_secret_key

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Request timeouts (seconds)
REQUEST_TIMEOUT=30
QUERY_TIMEOUT=60
UPLOAD_TIMEOUT=300

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Caching
CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=512

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
DOCUMENT_UPLOAD_ENABLED=true
PDF_PROCESSING_ENABLED=true
BULK_OPERATIONS_ENABLED=true
METRICS_ENABLED=true
HEALTH_CHECKS_ENABLED=true

# Maximum limits
MAX_DOCUMENT_SIZE_MB=50
MAX_DOCUMENTS_PER_UPLOAD=10
MAX_QUERY_LENGTH=2000
MAX_CONTEXT_TOKENS=4000